(()=>{"use strict";const t=function(){const t=[];return{addToList:e=>{t.push(e)},getList:()=>t,delProj:e=>{t.splice(e,1)}}}();function e(t,e){this.title=t,this.arr=e}e.prototype.delTask=function(t){this.arr.splice(t,1)},e.prototype.addTask=function(t){this.arr.push(t)};const n=()=>{const e=JSON.stringify(t.getList());localStorage.setItem("list",e)},i=t=>{const e=t.arr,d=document.querySelector(".main");d.textContent="";const o=document.querySelector(".taskViewModal"),l=document.getElementById("viewTitle"),a=document.getElementById("viewDesc"),s=document.getElementById("viewDueDate"),c=document.getElementById("viewPriority"),r=document.querySelector(".editTaskModal"),u=document.getElementById("edit-title"),m=document.getElementById("edit-desc"),p=document.getElementById("edit-taskDate"),v=document.getElementById("edit-priority"),y=document.querySelector(".edit-task-form");for(let b=0;b<e.length;b++){const k=document.createElement("div");k.classList.add("task");const E=document.createElement("div");E.classList.add("taskTitle"),E.textContent=e[b].title;const h=document.createElement("button");h.textContent="Open",h.classList.add("openBtn"),h.addEventListener("click",(()=>{l.textContent=e[b].title,a.textContent=e[b].desc,s.textContent=e[b].dueDate,c.textContent=e[b].priority,o.style.display="block"}));const C=document.createElement("button");C.textContent="Edit",C.classList.add("editBtn"),C.addEventListener("click",(()=>{u.value=e[b].title,m.value=e[b].desc,p.value=e[b].dueDate,v.value=e[b].priority,y.addEventListener("submit",(function d(o){o.preventDefault();const l=new FormData(o.target);e[b].title=l.get("edit-title"),e[b].desc=l.get("edit-desc"),e[b].dueDate=l.get("edit-taskDate"),e[b].priority=l.get("edit-priority"),r.style.display="none",y.removeEventListener("submit",d),i(t),n()})),r.style.display="block"}));const L=document.createElement("button");L.textContent="Delete",L.classList.add("delBtn"),L.addEventListener("click",(()=>{t.delTask(b),i(t),n()}));const g=document.createElement("div");g.appendChild(h),g.appendChild(C),g.appendChild(L),k.appendChild(E),k.appendChild(g),d.appendChild(k)}},d=t=>{const e=document.querySelector(".content");e.textContent="",e.innerHTML+='<div class="taskModal">\n<button id="close-modal">X</button>\n<div>\n<form action="" class="task-form">\n<div>\n<label for="title">Title: </label>\n<input type="text" id="title" name="title" required placeholder=" ">\n</div>\n<div>\n<label for="desc">Description:</label>\n<textarea id="desc" name="desc" maxlength="85"></textarea>\n</div>\n<div>\n<label for="taskDate">Due Date:</label>\n<input type="date" id="taskDate" name="taskDate">\n</div>\n<div>\n<label for="priority">Priority: </label>\n<select id="priority" name="priority">\n<option value="high">High</option>\n<option value="medium">Medium</option>\n<option value="low">Low</option>\n</select>\n</div>\n<button type="submit" id="submit-btn">Submit</button>\n</form>\n</div>\n</div>\n<div class="editTaskModal">\n<button id="close-edit-modal">X</button>\n<div>\n<form action="" class="edit-task-form">\n<div>\n<label for="edit-title">Title: </label>\n<input type="text" id="edit-title" name="edit-title" required placeholder=" ">\n</div>\n<div>\n<label for="edit-desc">Description:</label>\n<textarea id="edit-desc" name="edit-desc" maxlength="85"></textarea>\n</div>\n<div>\n<label for="edit-taskDate">Due Date:</label>\n<input type="date" id="edit-taskDate" name="edit-taskDate">\n</div>\n<div>\n<label for="priority">Priority: </label>\n<select id="edit-priority" name="edit-priority">\n<option value="high">High</option>\n<option value="medium">Medium</option>\n<option value="low">Low</option>\n</select>\n</div>\n<button type="submit" id="edit-submit-btn">Submit</button>\n</form>\n</div>\n</div>\n<div class="taskViewModal">\n<button id="close-view-modal">X</button>\n<div>\n<div class="taskViewHolder">\n<div class="taskViewLabel">Title: </div>\n<div id="viewTitle"></div>\n</div>\n<div class="taskViewHolder">\n<div class="taskViewLabel">Description: </div>\n<p id="viewDesc"></p>\n</div>\n<div class="taskViewHolder">\n<div class="taskViewLabel">Due Date: </div>\n<div id="viewDueDate"></div>\n</div>\n<div class="taskViewHolder">\n<div class="taskViewLabel">Priority: </div>\n<div id="viewPriority"></div>\n</div>\n</div>\n</div>\n<div class="header">\n<div class="headerTitle">\n'+t.title+' tasks</div>\n<div>\n<button id="add-task">Add Task</button>\n<button id="return">Return to Projects</button>\n</div>\n</div>\n<div class="main">\n</div>\n';const d=document.querySelector(".taskModal"),o=document.querySelector(".task-form"),a=document.querySelector(".editTaskModal");document.getElementById("close-edit-modal").addEventListener("click",(()=>{a.style.display="none"})),document.getElementById("add-task").addEventListener("click",(()=>{d.style.display="block"})),document.getElementById("return").addEventListener("click",(()=>{l()})),document.getElementById("close-modal").addEventListener("click",(()=>{d.style.display="none"}));const s=document.querySelector(".taskViewModal");document.getElementById("close-view-modal").addEventListener("click",(()=>{s.style.display="none"})),o.addEventListener("submit",(e=>{e.preventDefault(),d.style.display="none";const l=new FormData(e.target),a={title:l.get("title"),desc:l.get("desc"),dueDate:l.get("taskDate"),priority:l.get("priority")};t.addTask(a),i(t),o.reset(),n()})),i(t)},o=()=>{const e=t.getList(),i=document.querySelector(".main");i.textContent="";for(let l=0;l<e.length;l++){const a=document.createElement("div");a.classList.add("project"),a.setAttribute("id",l);const s=document.createElement("div");s.classList.add("projectTitle"),s.textContent=e[l].title;const c=document.createElement("button");c.textContent="Open",c.setAttribute("id","projOpenBtn"),c.addEventListener("click",(()=>{d(e[l])}));const r=document.createElement("button");r.textContent="Delete",r.setAttribute("id","projDelBtn"),r.addEventListener("click",(()=>{t.delProj(l),o(),n()}));const u=document.createElement("div");a.appendChild(s),u.appendChild(c),u.appendChild(r),a.appendChild(u),i.appendChild(a)}},l=()=>{const i=document.querySelector(".content");i.textContent="";const d=document.createElement("div");d.classList.add("projModal");const l=document.createElement("div"),a=document.createElement("button");a.setAttribute("id","close-modal"),a.textContent="X";const s=document.createElement("div"),c=document.createElement("label");c.setAttribute("for","projTitle"),c.textContent="Project Title:";const r=document.createElement("input");r.setAttribute("type","text"),r.setAttribute("id","projTitle"),s.appendChild(c),s.appendChild(r);const u=document.createElement("button");u.setAttribute("id","projSubmit"),u.textContent="Submit",l.appendChild(a),l.appendChild(s),l.appendChild(u),d.appendChild(l);const m=document.createElement("div");m.classList.add("header");const p=document.createElement("div");p.classList.add("headerTitle"),p.textContent="Projects";const v=document.createElement("button");v.setAttribute("id","addBtn"),v.textContent="Add Project",m.appendChild(p),m.appendChild(v);const y=document.createElement("div");y.classList.add("main"),i.appendChild(d),i.appendChild(m),i.appendChild(y),o(),v.addEventListener("click",(()=>{d.style.display="block"})),a.addEventListener("click",(()=>{d.style.display="none"})),u.addEventListener("click",(()=>{r.value&&(t.addToList(new e(r.value,[])),r.value="",d.style.display="none",o(),n())}))};localStorage.getItem("list")&&JSON.parse(localStorage.list).forEach((n=>{t.addToList(new e(n.title,n.arr))})),l()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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WUFBYyxXQUUxQixNQUFNNEQsRUFBUzlELFNBQVNrQixjQUFjLFVBQ3RDNEMsRUFBT1osYUFBYSxLQUFNLFVBQzFCWSxFQUFPNUQsWUFBYyxjQUVyQjBELEVBQU9uQixZQUFZb0IsR0FDbkJELEVBQU9uQixZQUFZcUIsR0FFbkIsTUFBTS9ELEVBQU9DLFNBQVNrQixjQUFjLE9BQ3BDbkIsRUFBS29CLFVBQVVDLElBQUksUUFFbkJ1QixFQUFRRixZQUFZWSxHQUNwQlYsRUFBUUYsWUFBWW1CLEdBQ3BCakIsRUFBUUYsWUFBWTFDLEdBRXBCa0QsSUFHQWEsRUFBT3ZDLGlCQUFpQixTQUFTLEtBQzdCOEIsRUFBVTFCLE1BQU1DLFFBQVUsT0FBTyxJQUdyQzJCLEVBQVNoQyxpQkFBaUIsU0FBUyxLQUMvQjhCLEVBQVUxQixNQUFNQyxRQUFVLE1BQU0sSUFLcEMrQixFQUFhcEMsaUJBQWlCLFNBQVMsS0FDL0JtQyxFQUFNNUIsUUFFTnRELEVBQVNFLFVBQVUsSUFBSU8sRUFBUXlFLEVBQU01QixNQUFPLEtBRTVDNEIsRUFBTTVCLE1BQVEsR0FDZHVCLEVBQVUxQixNQUFNQyxRQUFVLE9BQzFCcUIsSUFDQTFELElBQ0osR0FFSCxFQ25GRUksYUFBYW9FLFFBQVEsU0FDUHRFLEtBQUt1RSxNQUFNckUsYUFBYUgsTUFFaEN5RSxTQUFRQyxJQUNUMUYsRUFBU0UsVUFBVSxJQUFJTyxFQUFRaUYsRUFBUWhGLE1BQU9nRixFQUFRekYsS0FBSyxJQ0h2RXNFLEciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90by1kby1saXN0Ly4vc3JjL3Byb2pMaXN0LmpzIiwid2VicGFjazovL3RvLWRvLWxpc3QvLi9zcmMvcHJvakZhY3RvcnkuanMiLCJ3ZWJwYWNrOi8vdG8tZG8tbGlzdC8uL3NyYy9zYXZlVG9sb2NhbFN0b3JhZ2UuanMiLCJ3ZWJwYWNrOi8vdG8tZG8tbGlzdC8uL3NyYy9yZW5kZXJUYXNrcy5qcyIsIndlYnBhY2s6Ly90by1kby1saXN0Ly4vc3JjL3JlbmRlclByb2plY3RQYWdlLmpzIiwid2VicGFjazovL3RvLWRvLWxpc3QvLi9zcmMvdGFza0ZhY3RvcnkuanMiLCJ3ZWJwYWNrOi8vdG8tZG8tbGlzdC8uL3NyYy9yZW5kZXJQcm9qZWN0TGlzdC5qcyIsIndlYnBhY2s6Ly90by1kby1saXN0Ly4vc3JjL3JlbmRlclBhZ2UuanMiLCJ3ZWJwYWNrOi8vdG8tZG8tbGlzdC8uL3NyYy9nZXRGcm9tTG9jYWxTdG9yYWdlLmpzIiwid2VicGFjazovL3RvLWRvLWxpc3QvLi9zcmMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgcHJvakxpc3QgPSBmdW5jdGlvbigpIHtcbiAgICBjb25zdCBhcnIgPSBbXTtcbiAgICBjb25zdCBhZGRUb0xpc3QgPSAob2JqKSA9PiB7XG4gICAgICAgIGFyci5wdXNoKG9iailcbiAgICB9XG4gICAgY29uc3QgZ2V0TGlzdCA9ICgpID0+IHtcbiAgICAgICAgcmV0dXJuIGFycjtcbiAgICB9XG4gICAgY29uc3QgZGVsUHJvaiA9IChpbmRleCkgPT4ge1xuICAgICAgICBhcnIuc3BsaWNlKGluZGV4LCAxKTtcbiAgICB9XG4gICAgXG5cbiAgICByZXR1cm4geyBhZGRUb0xpc3QsIGdldExpc3QsIGRlbFByb2ogfVxuXG5cbn0oKTtcblxuZXhwb3J0IHtwcm9qTGlzdH0iLCJmdW5jdGlvbiBQcm9qZWN0KHRpdGxlLCBhcnIpIHtcbiAgICB0aGlzLnRpdGxlID0gdGl0bGU7XG4gICAgdGhpcy5hcnIgPSBhcnI7XG59O1xuUHJvamVjdC5wcm90b3R5cGUuZGVsVGFzayA9IGZ1bmN0aW9uKGluZGV4KSB7XG4gIHRoaXMuYXJyLnNwbGljZShpbmRleCwgMSk7XG59O1xuUHJvamVjdC5wcm90b3R5cGUuYWRkVGFzayA9IGZ1bmN0aW9uKG9iaikge1xuICB0aGlzLmFyci5wdXNoKG9iaik7XG59O1xuXG5leHBvcnQgeyBQcm9qZWN0IH0iLCJpbXBvcnQgeyBwcm9qTGlzdCB9IGZyb20gXCIuL3Byb2pMaXN0XCJcblxuY29uc3Qgc2F2ZVRvTG9jYWxTdG9yYWdlID0gKCkgPT4ge1xuICAgIGNvbnN0IGxpc3QgPSBKU09OLnN0cmluZ2lmeShwcm9qTGlzdC5nZXRMaXN0KCkpO1xuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdsaXN0JywgbGlzdCk7XG59XG5cbmV4cG9ydCB7IHNhdmVUb0xvY2FsU3RvcmFnZSB9IiwiaW1wb3J0IHsgc2F2ZVRvTG9jYWxTdG9yYWdlIH0gZnJvbSBcIi4vc2F2ZVRvbG9jYWxTdG9yYWdlXCI7XG5jb25zdCByZW5kZXJUYXNrcyA9IChwcm9qKSA9PiB7XG4gICAgXG4gICAgY29uc3QgbGlzdCA9IHByb2ouYXJyO1xuICAgIGNvbnN0IG1haW4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubWFpbicpO1xuICAgIG1haW4udGV4dENvbnRlbnQgPSBcIlwiO1xuICAgIGNvbnN0IHRhc2tWaWV3TW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudGFza1ZpZXdNb2RhbCcpXG4gICAgY29uc3QgdGFza1ZpZXdUaXRsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd2aWV3VGl0bGUnKVxuICAgIGNvbnN0IHRhc2tWaWV3RGVzYyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd2aWV3RGVzYycpXG4gICAgY29uc3QgdGFza1ZpZXdEdWVEYXRlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3ZpZXdEdWVEYXRlJylcbiAgICBjb25zdCB0YXNrVmlld1ByaW9yaXR5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3ZpZXdQcmlvcml0eScpXG5cblxuICAgIGNvbnN0IGVkaXRUYXNrTW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZWRpdFRhc2tNb2RhbCcpXG4gICAgY29uc3QgZWRpdFRpdGxlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXQtdGl0bGUnKTtcbiAgICBjb25zdCBlZGl0RGVzYyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0LWRlc2MnKTtcbiAgICBjb25zdCBlZGl0VGFza0RhdGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdC10YXNrRGF0ZScpO1xuICAgIGNvbnN0IGVkaXRQcmlvcml0eSA9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXQtcHJpb3JpdHknKTtcbiAgICBjb25zdCBlZGl0VGFza0Zvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZWRpdC10YXNrLWZvcm0nKVxuXG5cblxuICAgIFxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCB0YXNrID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcbiAgICAgICAgdGFzay5jbGFzc0xpc3QuYWRkKCd0YXNrJyk7XG4gICAgICAgIFxuXG4gICAgICAgIGNvbnN0IHRhc2tUaXRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG4gICAgICAgIHRhc2tUaXRsZS5jbGFzc0xpc3QuYWRkKCd0YXNrVGl0bGUnKVxuICAgICAgICB0YXNrVGl0bGUudGV4dENvbnRlbnQgPSBsaXN0W2ldLnRpdGxlXG5cblxuICAgICAgICBjb25zdCBvcGVuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgICAgIG9wZW4udGV4dENvbnRlbnQgPSBcIk9wZW5cIlxuICAgICAgICBvcGVuLmNsYXNzTGlzdC5hZGQoJ29wZW5CdG4nKTtcbiAgICAgICAgb3Blbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgICAgIHRhc2tWaWV3VGl0bGUudGV4dENvbnRlbnQgPSBsaXN0W2ldLnRpdGxlO1xuICAgICAgICAgICAgdGFza1ZpZXdEZXNjLnRleHRDb250ZW50ID0gbGlzdFtpXS5kZXNjO1xuICAgICAgICAgICAgdGFza1ZpZXdEdWVEYXRlLnRleHRDb250ZW50ID0gbGlzdFtpXS5kdWVEYXRlO1xuICAgICAgICAgICAgdGFza1ZpZXdQcmlvcml0eS50ZXh0Q29udGVudCA9IGxpc3RbaV0ucHJpb3JpdHk7XG5cbiAgICAgICAgICAgIHRhc2tWaWV3TW9kYWwuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG5cbiAgICAgICAgfSlcblxuICAgICAgICBjb25zdCBlZGl0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgICAgIGVkaXQudGV4dENvbnRlbnQgPSBcIkVkaXRcIlxuICAgICAgICBlZGl0LmNsYXNzTGlzdC5hZGQoJ2VkaXRCdG4nKTtcbiAgICAgICAgZWRpdC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgICAgIGVkaXRUaXRsZS52YWx1ZSA9IGxpc3RbaV0udGl0bGU7XG4gICAgICAgICAgICBlZGl0RGVzYy52YWx1ZSA9IGxpc3RbaV0uZGVzYztcbiAgICAgICAgICAgIGVkaXRUYXNrRGF0ZS52YWx1ZSA9IGxpc3RbaV0uZHVlRGF0ZTtcbiAgICAgICAgICAgIGVkaXRQcmlvcml0eS52YWx1ZSA9IGxpc3RbaV0ucHJpb3JpdHk7XG5cbiAgICAgICAgICAgIGVkaXRUYXNrRm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCBmdW5jdGlvbiBlZGl0RXZlbnQoZSkge1xuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBuZXcgRm9ybURhdGEoZS50YXJnZXQpO1xuICAgICAgICAgICAgICAgIGxpc3RbaV0udGl0bGUgPSBkYXRhLmdldChcImVkaXQtdGl0bGVcIik7XG4gICAgICAgICAgICAgICAgbGlzdFtpXS5kZXNjID0gZGF0YS5nZXQoXCJlZGl0LWRlc2NcIik7XG4gICAgICAgICAgICAgICAgbGlzdFtpXS5kdWVEYXRlID0gZGF0YS5nZXQoXCJlZGl0LXRhc2tEYXRlXCIpXG4gICAgICAgICAgICAgICAgbGlzdFtpXS5wcmlvcml0eSA9IGRhdGEuZ2V0KFwiZWRpdC1wcmlvcml0eVwiKVxuICAgICAgICAgICAgICAgIGVkaXRUYXNrTW9kYWwuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgICAgICAgICBlZGl0VGFza0Zvcm0ucmVtb3ZlRXZlbnRMaXN0ZW5lcignc3VibWl0JywgZWRpdEV2ZW50KVxuICAgICAgICAgICAgICAgIHJlbmRlclRhc2tzKHByb2opO1xuICAgICAgICAgICAgICAgIHNhdmVUb0xvY2FsU3RvcmFnZSgpO1xuXG4gICAgICAgICAgICB9KVxuXG4gICAgICAgICAgICBcblxuXG5cbiAgICAgICAgICAgIGVkaXRUYXNrTW9kYWwuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG5cbiAgICAgICAgfSlcblxuXG5cbiAgICAgICAgY29uc3QgZGVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgICAgIGRlbC50ZXh0Q29udGVudCA9IFwiRGVsZXRlXCJcbiAgICAgICAgZGVsLmNsYXNzTGlzdC5hZGQoJ2RlbEJ0bicpO1xuICAgICAgICBkZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgICBwcm9qLmRlbFRhc2soaSk7XG4gICAgICAgICAgICByZW5kZXJUYXNrcyhwcm9qKTtcbiAgICAgICAgICAgIHNhdmVUb0xvY2FsU3RvcmFnZSgpO1xuICAgICAgICB9KVxuXG4gICAgICAgIGNvbnN0IGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBkaXYuYXBwZW5kQ2hpbGQob3Blbik7XG4gICAgICAgIGRpdi5hcHBlbmRDaGlsZChlZGl0KTtcbiAgICAgICAgZGl2LmFwcGVuZENoaWxkKGRlbCk7XG5cbiAgICAgICAgdGFzay5hcHBlbmRDaGlsZCh0YXNrVGl0bGUpXG4gICAgICAgIHRhc2suYXBwZW5kQ2hpbGQoZGl2KVxuICAgICAgICBtYWluLmFwcGVuZENoaWxkKHRhc2spO1xuICAgIH1cbn1cblxuZXhwb3J0IHtyZW5kZXJUYXNrc30iLCJpbXBvcnQgeyByZW5kZXJQYWdlIH0gZnJvbSBcIi4vcmVuZGVyUGFnZVwiO1xuaW1wb3J0IHsgcmVuZGVyVGFza3MgfSBmcm9tIFwiLi9yZW5kZXJUYXNrc1wiO1xuaW1wb3J0IHsgdGFza0ZhY3RvcnkgfSBmcm9tIFwiLi90YXNrRmFjdG9yeVwiO1xuaW1wb3J0IHsgc2F2ZVRvTG9jYWxTdG9yYWdlIH0gZnJvbSBcIi4vc2F2ZVRvbG9jYWxTdG9yYWdlXCI7XG5cbmNvbnN0IHJlbmRlclByb2plY3RQYWdlID0gKHByb2opID0+IHtcbiAgICBjb25zdCBjb250ZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNvbnRlbnQnKTtcbiAgICBjb250ZW50LnRleHRDb250ZW50ID0gXCJcIjtcblxuICAgIGNvbnRlbnQuaW5uZXJIVE1MICs9ICc8ZGl2IGNsYXNzPVwidGFza01vZGFsXCI+XFxuJytcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGJ1dHRvbiBpZD1cImNsb3NlLW1vZGFsXCI+WDwvYnV0dG9uPlxcbicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXY+XFxuJytcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxmb3JtIGFjdGlvbj1cIlwiIGNsYXNzPVwidGFzay1mb3JtXCI+XFxuJytcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2PlxcbicrXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8bGFiZWwgZm9yPVwidGl0bGVcIj5UaXRsZTogPC9sYWJlbD5cXG4nK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGlucHV0IHR5cGU9XCJ0ZXh0XCIgaWQ9XCJ0aXRsZVwiIG5hbWU9XCJ0aXRsZVwiIHJlcXVpcmVkIHBsYWNlaG9sZGVyPVwiIFwiPlxcbicrXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzwvZGl2PlxcbicrXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXY+XFxuJytcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxsYWJlbCBmb3I9XCJkZXNjXCI+RGVzY3JpcHRpb246PC9sYWJlbD5cXG4nK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPHRleHRhcmVhIGlkPVwiZGVzY1wiIG5hbWU9XCJkZXNjXCIgbWF4bGVuZ3RoPVwiODVcIj48L3RleHRhcmVhPlxcbicrXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzwvZGl2PlxcbicrXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXY+XFxuJytcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxsYWJlbCBmb3I9XCJ0YXNrRGF0ZVwiPkR1ZSBEYXRlOjwvbGFiZWw+XFxuJytcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxpbnB1dCB0eXBlPVwiZGF0ZVwiIGlkPVwidGFza0RhdGVcIiBuYW1lPVwidGFza0RhdGVcIj5cXG4nK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8L2Rpdj5cXG4nK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2PlxcbicrXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxsYWJlbCBmb3I9XCJwcmlvcml0eVwiPlByaW9yaXR5OiA8L2xhYmVsPlxcbicrXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPHNlbGVjdCBpZD1cInByaW9yaXR5XCIgbmFtZT1cInByaW9yaXR5XCI+XFxuJytcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPG9wdGlvbiB2YWx1ZT1cImhpZ2hcIj5IaWdoPC9vcHRpb24+XFxuJytcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPG9wdGlvbiB2YWx1ZT1cIm1lZGl1bVwiPk1lZGl1bTwvb3B0aW9uPlxcbicrXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxvcHRpb24gdmFsdWU9XCJsb3dcIj5Mb3c8L29wdGlvbj5cXG4nK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzwvc2VsZWN0PlxcbicrXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzwvZGl2PlxcbicrXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGJ1dHRvbiB0eXBlPVwic3VibWl0XCIgaWQ9XCJzdWJtaXQtYnRuXCI+U3VibWl0PC9idXR0b24+XFxuJytcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8L2Zvcm0+XFxuJytcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8L2Rpdj5cXG4nK1xuICAgICAgICAgICAgICAgICAgICAgICAgICc8L2Rpdj5cXG4nK1xuICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwiZWRpdFRhc2tNb2RhbFwiPlxcbicrXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxidXR0b24gaWQ9XCJjbG9zZS1lZGl0LW1vZGFsXCI+WDwvYnV0dG9uPlxcbicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXY+XFxuJytcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxmb3JtIGFjdGlvbj1cIlwiIGNsYXNzPVwiZWRpdC10YXNrLWZvcm1cIj5cXG4nK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXY+XFxuJytcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxsYWJlbCBmb3I9XCJlZGl0LXRpdGxlXCI+VGl0bGU6IDwvbGFiZWw+XFxuJytcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxpbnB1dCB0eXBlPVwidGV4dFwiIGlkPVwiZWRpdC10aXRsZVwiIG5hbWU9XCJlZGl0LXRpdGxlXCIgcmVxdWlyZWQgcGxhY2Vob2xkZXI9XCIgXCI+XFxuJytcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPC9kaXY+XFxuJytcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGRpdj5cXG4nK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGxhYmVsIGZvcj1cImVkaXQtZGVzY1wiPkRlc2NyaXB0aW9uOjwvbGFiZWw+XFxuJytcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzx0ZXh0YXJlYSBpZD1cImVkaXQtZGVzY1wiIG5hbWU9XCJlZGl0LWRlc2NcIiBtYXhsZW5ndGg9XCI4NVwiPjwvdGV4dGFyZWE+XFxuJytcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPC9kaXY+XFxuJytcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGRpdj5cXG4nK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGxhYmVsIGZvcj1cImVkaXQtdGFza0RhdGVcIj5EdWUgRGF0ZTo8L2xhYmVsPlxcbicrXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8aW5wdXQgdHlwZT1cImRhdGVcIiBpZD1cImVkaXQtdGFza0RhdGVcIiBuYW1lPVwiZWRpdC10YXNrRGF0ZVwiPlxcbicrXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzwvZGl2PlxcbicrXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXY+XFxuJytcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGxhYmVsIGZvcj1cInByaW9yaXR5XCI+UHJpb3JpdHk6IDwvbGFiZWw+XFxuJytcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8c2VsZWN0IGlkPVwiZWRpdC1wcmlvcml0eVwiIG5hbWU9XCJlZGl0LXByaW9yaXR5XCI+XFxuJytcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPG9wdGlvbiB2YWx1ZT1cImhpZ2hcIj5IaWdoPC9vcHRpb24+XFxuJytcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPG9wdGlvbiB2YWx1ZT1cIm1lZGl1bVwiPk1lZGl1bTwvb3B0aW9uPlxcbicrXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxvcHRpb24gdmFsdWU9XCJsb3dcIj5Mb3c8L29wdGlvbj5cXG4nK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzwvc2VsZWN0PlxcbicrXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzwvZGl2PlxcbicrXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGJ1dHRvbiB0eXBlPVwic3VibWl0XCIgaWQ9XCJlZGl0LXN1Ym1pdC1idG5cIj5TdWJtaXQ8L2J1dHRvbj5cXG4nK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzwvZm9ybT5cXG4nK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzwvZGl2PlxcbicrXG4gICAgICAgICAgICAgICAgICAgICAgICAgJzwvZGl2PlxcbicrXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cInRhc2tWaWV3TW9kYWxcIj5cXG4nK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8YnV0dG9uIGlkPVwiY2xvc2Utdmlldy1tb2RhbFwiPlg8L2J1dHRvbj5cXG4nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGRpdj5cXG4nK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cInRhc2tWaWV3SG9sZGVyXCI+XFxuJytcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwidGFza1ZpZXdMYWJlbFwiPlRpdGxlOiA8L2Rpdj5cXG4nK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgaWQ9XCJ2aWV3VGl0bGVcIj48L2Rpdj5cXG4nK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPC9kaXY+XFxuJytcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJ0YXNrVmlld0hvbGRlclwiPlxcbicrXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cInRhc2tWaWV3TGFiZWxcIj5EZXNjcmlwdGlvbjogPC9kaXY+XFxuJytcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8cCBpZD1cInZpZXdEZXNjXCI+PC9wPlxcbicrXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8L2Rpdj5cXG4nK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cInRhc2tWaWV3SG9sZGVyXCI+XFxuJytcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwidGFza1ZpZXdMYWJlbFwiPkR1ZSBEYXRlOiA8L2Rpdj5cXG4nK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgaWQ9XCJ2aWV3RHVlRGF0ZVwiPjwvZGl2PlxcbicrXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8L2Rpdj5cXG4nK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cInRhc2tWaWV3SG9sZGVyXCI+XFxuJytcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwidGFza1ZpZXdMYWJlbFwiPlByaW9yaXR5OiA8L2Rpdj5cXG4nK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgaWQ9XCJ2aWV3UHJpb3JpdHlcIj48L2Rpdj5cXG4nK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPC9kaXY+XFxuJytcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPC9kaXY+XFxuJytcbiAgICAgICAgICAgICAgICAgICAgICAgICAnPC9kaXY+XFxuJytcblxuICAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwiaGVhZGVyXCI+XFxuJytcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJoZWFkZXJUaXRsZVwiPlxcbicrXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9qLnRpdGxlICsgXCIgdGFza3NcIiArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8L2Rpdj5cXG4nK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGRpdj5cXG4nK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGJ1dHRvbiBpZD1cImFkZC10YXNrXCI+QWRkIFRhc2s8L2J1dHRvbj5cXG4nK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGJ1dHRvbiBpZD1cInJldHVyblwiPlJldHVybiB0byBQcm9qZWN0czwvYnV0dG9uPlxcbicrXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJzwvZGl2PlxcbicrXG4gICAgICAgICAgICAgICAgICAgICAgICAnPC9kaXY+XFxuJytcbiAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibWFpblwiPlxcbicrXG4gICAgICAgICAgICAgICAgICAgICAgICAnPC9kaXY+XFxuJztcblxuXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcblxuXG5cbiAgICBcbiAgICBcbi8qXG5cbiAgICBjb25zdCBoZWFkZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBoZWFkZXIuY2xhc3NMaXN0LmFkZCgnaGVhZGVyJyk7XG5cbiAgICBjb25zdCBoZWFkZXJUaXRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGhlYWRlclRpdGxlLmNsYXNzTGlzdC5hZGQoJ2hlYWRlclRpdGxlJyk7XG4gICAgaGVhZGVyVGl0bGUudGV4dENvbnRlbnQgPSBwcm9qLmdldFRpdGxlKCkgKyBcIiB0YXNrc1wiO1xuXG4gICAgY29uc3QgYWRkVGFzayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgIGFkZFRhc2suc2V0QXR0cmlidXRlKCdpZCcsICdhZGQtdGFzaycpO1xuICAgIGFkZFRhc2sudGV4dENvbnRlbnQgPSBcIkFkZCBUYXNrXCI7XG4gICAgYWRkVGFzay5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgdGFza01vZGFsLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuICAgIH0pXG4gICAgXG4gICAgY29uc3QgcmV0dXJuQnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgcmV0dXJuQnRuLnNldEF0dHJpYnV0ZSgnaWQnLCAncmV0dXJuJyk7XG4gICAgcmV0dXJuQnRuLnRleHRDb250ZW50ID0gXCJSZXR1cm4gdG8gUHJvamVjdHNcIlxuICAgIHJldHVybkJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgcmVuZGVyUGFnZSgpO1xuICAgIH0pXG5cbiAgICBjb25zdCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBkaXYuYXBwZW5kQ2hpbGQoYWRkVGFzayk7XG4gICAgZGl2LmFwcGVuZENoaWxkKHJldHVybkJ0bik7XG5cbiAgICBoZWFkZXIuYXBwZW5kQ2hpbGQoaGVhZGVyVGl0bGUpO1xuICAgIGhlYWRlci5hcHBlbmRDaGlsZChkaXYpO1xuXG4gICAgY29udGVudC5hcHBlbmRDaGlsZChoZWFkZXIpO1xuXG4gICAgY29uc3QgbWFpbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIG1haW4uY2xhc3NMaXN0LmFkZCgnbWFpbicpO1xuXG4gICAgY29udGVudC5hcHBlbmRDaGlsZCh0YXNrTW9kYWwpO1xuICAgIGNvbnRlbnQuYXBwZW5kQ2hpbGQoaGVhZGVyKTtcbiAgICBjb250ZW50LmFwcGVuZENoaWxkKG1haW4pO1xuICAgICovXG4gICBjb25zdCB0YXNrTW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudGFza01vZGFsJyk7XG4gICBjb25zdCB0YXNrRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy50YXNrLWZvcm0nKTtcblxuICAgY29uc3QgZWRpdFRhc2tNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lZGl0VGFza01vZGFsJyk7XG4gICBjb25zdCBjbG9zZUVkaXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2xvc2UtZWRpdC1tb2RhbCcpO1xuICAgY2xvc2VFZGl0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgIGVkaXRUYXNrTW9kYWwuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbn0pXG5cblxuICAgXG4gICAgY29uc3QgYWRkVGFzayA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhZGQtdGFzaycpXG4gICAgYWRkVGFzay5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgdGFza01vZGFsLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuICAgIH0pXG5cbiAgICBjb25zdCByZXR1cm5CdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmV0dXJuJylcbiAgICByZXR1cm5CdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgIHJlbmRlclBhZ2UoKTtcbiAgICB9KVxuXG4gICAgY29uc3QgY2xvc2VNb2RhbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjbG9zZS1tb2RhbCcpO1xuICAgIGNsb3NlTW9kYWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgIHRhc2tNb2RhbC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgIH0pXG5cbiAgICBjb25zdCB0YXNrVmlld01vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRhc2tWaWV3TW9kYWwnKVxuICAgIFxuXG4gICAgY29uc3QgY2xvc2VWaWV3TW9kYWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2xvc2Utdmlldy1tb2RhbCcpO1xuICAgIGNsb3NlVmlld01vZGFsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICB0YXNrVmlld01vZGFsLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgfSlcbiAgICBcblxuICAgIHRhc2tGb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIChlKSA9PiB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgXG4gICAgICAgIHRhc2tNb2RhbC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuXG5cbiAgICAgICAgY29uc3QgZGF0YSA9IG5ldyBGb3JtRGF0YShlLnRhcmdldCk7XG5cbiAgICAgICAgY29uc3QgdGFzayA9IHRhc2tGYWN0b3J5KGRhdGEuZ2V0KFwidGl0bGVcIiksIGRhdGEuZ2V0KFwiZGVzY1wiKSwgZGF0YS5nZXQoXCJ0YXNrRGF0ZVwiKSwgZGF0YS5nZXQoXCJwcmlvcml0eVwiKSk7XG4gICAgICAgIHByb2ouYWRkVGFzayh0YXNrKTtcbiAgICAgICAgcmVuZGVyVGFza3MocHJvaik7XG4gICAgICAgIHRhc2tGb3JtLnJlc2V0KCk7XG4gICAgICAgIHNhdmVUb0xvY2FsU3RvcmFnZSgpO1xuXG4gICAgfSlcbiAgICByZW5kZXJUYXNrcyhwcm9qKTtcbiAgICBcblxufVxuXG5leHBvcnQge3JlbmRlclByb2plY3RQYWdlfVxuIiwiY29uc3QgdGFza0ZhY3RvcnkgPSAodGl0bGUsIGRlc2MsIGR1ZURhdGUsIHByaW9yaXR5KSA9PiB7XG5cbiAgcmV0dXJuIHsgdGl0bGUsIGRlc2MsIGR1ZURhdGUsIHByaW9yaXR5IH07XG59O1xuXG5leHBvcnQgeyB0YXNrRmFjdG9yeSB9IiwiaW1wb3J0IHsgcHJvakxpc3QgfSBmcm9tIFwiLi9wcm9qTGlzdFwiO1xuaW1wb3J0IHsgcmVuZGVyUHJvamVjdFBhZ2UgfSBmcm9tIFwiLi9yZW5kZXJQcm9qZWN0UGFnZVwiO1xuaW1wb3J0IHsgc2F2ZVRvTG9jYWxTdG9yYWdlIH0gZnJvbSBcIi4vc2F2ZVRvbG9jYWxTdG9yYWdlXCI7XG5cbmNvbnN0IHJlbmRlclByb2plY3RMaXN0ID0gKCkgPT4ge1xuICAgIGNvbnN0IGxpc3QgPSBwcm9qTGlzdC5nZXRMaXN0KCk7XG4gICAgY29uc3QgbWFpbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tYWluJyk7XG4gICAgbWFpbi50ZXh0Q29udGVudCA9IFwiXCI7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IHByb2ogPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICAgICAgICBwcm9qLmNsYXNzTGlzdC5hZGQoJ3Byb2plY3QnKTtcbiAgICAgICAgcHJvai5zZXRBdHRyaWJ1dGUoJ2lkJywgaSk7XG5cbiAgICAgICAgY29uc3QgcHJvalRpdGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcbiAgICAgICAgcHJvalRpdGxlLmNsYXNzTGlzdC5hZGQoJ3Byb2plY3RUaXRsZScpXG4gICAgICAgIHByb2pUaXRsZS50ZXh0Q29udGVudCA9IGxpc3RbaV0udGl0bGU7XG5cbiAgICAgICAgY29uc3Qgb3BlbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgICAgICBvcGVuLnRleHRDb250ZW50ID0gXCJPcGVuXCJcbiAgICAgICAgb3Blbi5zZXRBdHRyaWJ1dGUoJ2lkJywgXCJwcm9qT3BlbkJ0blwiKTtcbiAgICAgICAgb3Blbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgICAgIHJlbmRlclByb2plY3RQYWdlKGxpc3RbaV0pO1xuICAgICAgICB9KTtcblxuICAgICAgICBjb25zdCBkZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICAgICAgZGVsLnRleHRDb250ZW50ID0gXCJEZWxldGVcIjtcbiAgICAgICAgZGVsLnNldEF0dHJpYnV0ZSgnaWQnLCBcInByb2pEZWxCdG5cIik7XG4gICAgICAgIGRlbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgICAgIHByb2pMaXN0LmRlbFByb2ooaSk7XG4gICAgICAgICAgICByZW5kZXJQcm9qZWN0TGlzdCgpO1xuICAgICAgICAgICAgc2F2ZVRvTG9jYWxTdG9yYWdlKCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IGJ0bkhvbGRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG5cbiAgICAgICAgcHJvai5hcHBlbmRDaGlsZChwcm9qVGl0bGUpXG5cbiAgICAgICAgYnRuSG9sZGVyLmFwcGVuZENoaWxkKG9wZW4pO1xuICAgICAgICBidG5Ib2xkZXIuYXBwZW5kQ2hpbGQoZGVsKTtcblxuICAgICAgICBwcm9qLmFwcGVuZENoaWxkKGJ0bkhvbGRlcilcblxuICAgICAgICBtYWluLmFwcGVuZENoaWxkKHByb2opO1xuXG4gICAgICAgIFxuXG5cblxuICAgIH1cbn1cblxuZXhwb3J0IHtyZW5kZXJQcm9qZWN0TGlzdH0iLCJpbXBvcnQgeyBwcm9qTGlzdCB9IGZyb20gXCIuL3Byb2pMaXN0XCI7XG5pbXBvcnQgeyBQcm9qZWN0IH0gZnJvbSBcIi4vcHJvakZhY3RvcnlcIjtcbmltcG9ydCB7IHJlbmRlclByb2plY3RMaXN0IH0gZnJvbSBcIi4vcmVuZGVyUHJvamVjdExpc3RcIjtcbmltcG9ydCB7IHNhdmVUb0xvY2FsU3RvcmFnZSB9IGZyb20gXCIuL3NhdmVUb2xvY2FsU3RvcmFnZVwiO1xuXG5jb25zdCByZW5kZXJQYWdlID0gKCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY29udGVudCcpO1xuICAgIGNvbnRlbnQudGV4dENvbnRlbnQgPSBcIlwiO1xuXG4gICAgY29uc3QgcHJvak1vZGFsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgcHJvak1vZGFsLmNsYXNzTGlzdC5hZGQoJ3Byb2pNb2RhbCcpXG5cbiAgICBjb25zdCB3cmFwcGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgXG4gICAgY29uc3QgY2xvc2VCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICBjbG9zZUJ0bi5zZXRBdHRyaWJ1dGUoJ2lkJywgJ2Nsb3NlLW1vZGFsJyk7XG4gICAgY2xvc2VCdG4udGV4dENvbnRlbnQgPSBcIlhcIjtcblxuICAgIGNvbnN0IGlucHV0RGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cbiAgICBjb25zdCBsYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xhYmVsJyk7XG4gICAgbGFiZWwuc2V0QXR0cmlidXRlKCdmb3InLCBcInByb2pUaXRsZVwiKTtcbiAgICBsYWJlbC50ZXh0Q29udGVudCA9IFwiUHJvamVjdCBUaXRsZTpcIjtcblxuICAgIGNvbnN0IGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcbiAgICBpbnB1dC5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsIFwidGV4dFwiKTtcbiAgICBpbnB1dC5zZXRBdHRyaWJ1dGUoJ2lkJywgJ3Byb2pUaXRsZScpO1xuXG4gICAgaW5wdXREaXYuYXBwZW5kQ2hpbGQobGFiZWwpO1xuICAgIGlucHV0RGl2LmFwcGVuZENoaWxkKGlucHV0KTtcblxuICAgIGNvbnN0IHN1Ym1pdEJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgIHN1Ym1pdEJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2lkJywgJ3Byb2pTdWJtaXQnKTtcbiAgICBzdWJtaXRCdXR0b24udGV4dENvbnRlbnQgPSBcIlN1Ym1pdFwiO1xuXG4gICAgd3JhcHBlci5hcHBlbmRDaGlsZChjbG9zZUJ0bik7XG4gICAgd3JhcHBlci5hcHBlbmRDaGlsZChpbnB1dERpdik7XG4gICAgd3JhcHBlci5hcHBlbmRDaGlsZChzdWJtaXRCdXR0b24pO1xuXG4gICAgcHJvak1vZGFsLmFwcGVuZENoaWxkKHdyYXBwZXIpO1xuXG4gICAgXG5cblxuICAgIGNvbnN0IGhlYWRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGhlYWRlci5jbGFzc0xpc3QuYWRkKCdoZWFkZXInKTtcblxuICAgIGNvbnN0IGhlYWRlclRpdGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgaGVhZGVyVGl0bGUuY2xhc3NMaXN0LmFkZCgnaGVhZGVyVGl0bGUnKTtcbiAgICBoZWFkZXJUaXRsZS50ZXh0Q29udGVudCA9IFwiUHJvamVjdHNcIlxuXG4gICAgY29uc3QgYWRkQnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgYWRkQnRuLnNldEF0dHJpYnV0ZSgnaWQnLCAnYWRkQnRuJyk7XG4gICAgYWRkQnRuLnRleHRDb250ZW50ID0gXCJBZGQgUHJvamVjdFwiO1xuXG4gICAgaGVhZGVyLmFwcGVuZENoaWxkKGhlYWRlclRpdGxlKTtcbiAgICBoZWFkZXIuYXBwZW5kQ2hpbGQoYWRkQnRuKTtcblxuICAgIGNvbnN0IG1haW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBtYWluLmNsYXNzTGlzdC5hZGQoJ21haW4nKTtcblxuICAgIGNvbnRlbnQuYXBwZW5kQ2hpbGQocHJvak1vZGFsKTtcbiAgICBjb250ZW50LmFwcGVuZENoaWxkKGhlYWRlcik7XG4gICAgY29udGVudC5hcHBlbmRDaGlsZChtYWluKTtcblxuICAgIHJlbmRlclByb2plY3RMaXN0KCk7XG5cblxuICAgIGFkZEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgcHJvak1vZGFsLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuICAgIH0pXG4gICAgXG4gICAgY2xvc2VCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgIHByb2pNb2RhbC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgIH0pXG4gICAgXG4gICAgXG4gICAgXG4gICAgc3VibWl0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICBpZiAoaW5wdXQudmFsdWUpIHtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgcHJvakxpc3QuYWRkVG9MaXN0KG5ldyBQcm9qZWN0KGlucHV0LnZhbHVlLCBbXSkpO1xuXG4gICAgICAgICAgICBpbnB1dC52YWx1ZSA9IFwiXCI7XG4gICAgICAgICAgICBwcm9qTW9kYWwuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgICAgIHJlbmRlclByb2plY3RMaXN0KCk7XG4gICAgICAgICAgICBzYXZlVG9Mb2NhbFN0b3JhZ2UoKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICB9KVxuXG4gICAgXG5cblxuXG59XG5cbmV4cG9ydCB7IHJlbmRlclBhZ2UgfVxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG4gICAgXG5cblxuXG5cblxuXG5cbiIsImltcG9ydCB7IFByb2plY3QgfSBmcm9tIFwiLi9wcm9qRmFjdG9yeVwiO1xuaW1wb3J0IHsgcHJvakxpc3QgfSBmcm9tIFwiLi9wcm9qTGlzdFwiO1xuXG5cblxuY29uc3QgZ2V0RnJvbUxvY2FsU3RvcmFnZSA9ICgpID0+IHtcbiAgICBpZihsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnbGlzdCcpKXtcbiAgICAgICAgY29uc3QgbGlzdCA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmxpc3QpO1xuXG4gICAgICAgIGxpc3QuZm9yRWFjaChlbGVtZW50ID0+IHtcbiAgICAgICAgICAgIHByb2pMaXN0LmFkZFRvTGlzdChuZXcgUHJvamVjdChlbGVtZW50LnRpdGxlLCBlbGVtZW50LmFycikpO1xuXG4gICAgICAgIH0pO1xuICAgIH1cblxufVxuXG5leHBvcnQgeyBnZXRGcm9tTG9jYWxTdG9yYWdlIH0iLCJcbmltcG9ydCB7IHJlbmRlclBhZ2UgfSBmcm9tIFwiLi9yZW5kZXJQYWdlXCI7XG5pbXBvcnQgeyBnZXRGcm9tTG9jYWxTdG9yYWdlIH0gIGZyb20gXCIuL2dldEZyb21Mb2NhbFN0b3JhZ2VcIjtcblxuZ2V0RnJvbUxvY2FsU3RvcmFnZSgpO1xuXG5cbnJlbmRlclBhZ2UoKTtcblxuXG4iXSwibmFtZXMiOlsicHJvakxpc3QiLCJhcnIiLCJhZGRUb0xpc3QiLCJvYmoiLCJwdXNoIiwiZ2V0TGlzdCIsImRlbFByb2oiLCJpbmRleCIsInNwbGljZSIsIlByb2plY3QiLCJ0aXRsZSIsInRoaXMiLCJwcm90b3R5cGUiLCJkZWxUYXNrIiwiYWRkVGFzayIsInNhdmVUb0xvY2FsU3RvcmFnZSIsImxpc3QiLCJKU09OIiwic3RyaW5naWZ5IiwibG9jYWxTdG9yYWdlIiwic2V0SXRlbSIsInJlbmRlclRhc2tzIiwicHJvaiIsIm1haW4iLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJ0ZXh0Q29udGVudCIsInRhc2tWaWV3TW9kYWwiLCJ0YXNrVmlld1RpdGxlIiwiZ2V0RWxlbWVudEJ5SWQiLCJ0YXNrVmlld0Rlc2MiLCJ0YXNrVmlld0R1ZURhdGUiLCJ0YXNrVmlld1ByaW9yaXR5IiwiZWRpdFRhc2tNb2RhbCIsImVkaXRUaXRsZSIsImVkaXREZXNjIiwiZWRpdFRhc2tEYXRlIiwiZWRpdFByaW9yaXR5IiwiZWRpdFRhc2tGb3JtIiwiaSIsImxlbmd0aCIsInRhc2siLCJjcmVhdGVFbGVtZW50IiwiY2xhc3NMaXN0IiwiYWRkIiwidGFza1RpdGxlIiwib3BlbiIsImFkZEV2ZW50TGlzdGVuZXIiLCJkZXNjIiwiZHVlRGF0ZSIsInByaW9yaXR5Iiwic3R5bGUiLCJkaXNwbGF5IiwiZWRpdCIsInZhbHVlIiwiZWRpdEV2ZW50IiwiZSIsInByZXZlbnREZWZhdWx0IiwiZGF0YSIsIkZvcm1EYXRhIiwidGFyZ2V0IiwiZ2V0IiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImRlbCIsImRpdiIsImFwcGVuZENoaWxkIiwicmVuZGVyUHJvamVjdFBhZ2UiLCJjb250ZW50IiwiaW5uZXJIVE1MIiwidGFza01vZGFsIiwidGFza0Zvcm0iLCJyZW5kZXJQYWdlIiwicmVzZXQiLCJyZW5kZXJQcm9qZWN0TGlzdCIsInNldEF0dHJpYnV0ZSIsInByb2pUaXRsZSIsImJ0bkhvbGRlciIsInByb2pNb2RhbCIsIndyYXBwZXIiLCJjbG9zZUJ0biIsImlucHV0RGl2IiwibGFiZWwiLCJpbnB1dCIsInN1Ym1pdEJ1dHRvbiIsImhlYWRlciIsImhlYWRlclRpdGxlIiwiYWRkQnRuIiwiZ2V0SXRlbSIsInBhcnNlIiwiZm9yRWFjaCIsImVsZW1lbnQiXSwic291cmNlUm9vdCI6IiJ9